# TS

js开发中的问题

- 使用了不存在的变量、函数或成员
- 把一个不确定类型，当做一个缺的定类型进行处理
- 使用null和undefined

js的原罪

- js语言本身特性，决定了该语言本身无法适应大型的复杂项目
- 弱类型: 某个变量可以随时更换类型
- 解释性: 错误发生的时间，是在运行时

前端开发中，大部分时间都是在排错

## TypeScript 简称TS

TypeScript是js的超集，是一个可选的、静态的类型系统

### 类型系统

    对代码中所有的标识符（变量、函数、参数、返回值）进行类型检查
    无论是浏览器还是Node环境都无法识别TS代码

> babel ES6 -> ES5

> 用tsc ts -> es    tsc: ts编译器

静态的含义就是类型检查，发生的时间是在编译的时候而不是在运行时

TS不参与任何运行时的类型检查

### TS惊喜

有了类型检查，增强了面向对象的开发

js也有类和对象，js支持面向对象开发，没有类型检查，很多面向对象的场景实现起来有诸多问题

使用TS后可以编写出完善的面向对象代码

## 安装TypeScript

> npm i typescript -g

默认情况下，TS会做出下面几种假设

- 假设当前执行环境为Dom
- 如果代码中没有使用模块化语句 import export, 便认为该代码为全局执行
- 编译的目标代码是ES3

有两种方式改变以上假设

- 使用tsc命令行时加上选项参数
- 使用ts配置文件更改编译选项

> tsc --init

### TS配置文件

配置文件使用后，使用tsc进行编译时不能跟上文件名，如果跟上文件名，会忽略配置文件

> @types/node

@types是TS官方的类型库，其中包含了很多对js代码的类型描述

> Jquery 没有类型检查 可以安装@types/jquery,为jquery库添加类型定义

> npm i @types/node -D

### 使用第三方库简化编译流程

> ts-node 将ts代码在内存中完成编译，同时完成运行

> nodemon 用户检测文件的变化

    nnodemon --watch src  -e ts --exec ts-node src/index.ts

## 基本类型约束

TS是一个可选的静态类型系统

### 如何进行类型约束

> 变量、函数的参数、函数的返回值

### 源代码和编译结果的差异